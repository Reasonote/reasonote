---------------------------------------------------------------------------
-- 
-- ⚠️ DO NOT EDIT THIS FILE!
-- THIS FILE WAS AUTOMATICALLY GENERATED FROM THE CONTENTS OF A CLEANLY-MIGRATED DATABASE.
-- 
-- ℹ️ To change the contents of this file, create a new migration under 'supabase/migrations/'
-- that makes the change you would like to see.
-- 
---------------------------------------------------------------------------
-- Function: public.todo_end

---------------------------------------------------------------------------
-- BEGIN: PG_DUMP RESULT (FUNCTION: public.todo_end)
------------------------------
CREATE OR REPLACE FUNCTION public.todo_end()
 RETURNS SETOF boolean
 LANGUAGE plpgsql
AS $function$
DECLARE
    id integer;
BEGIN
    id := _get_latest( 'todo', -1 );
    IF id IS NULL THEN
        RAISE EXCEPTION 'todo_end() called without todo_start()';
    END IF;
    EXECUTE 'DELETE FROM __tcache__ WHERE id = ' || id;
    RETURN;
END;
$function$



------------------------------
-- END: PG_DUMP RESULT (FUNCTION: public.todo_end)
---------------------------------------------------------------------------
