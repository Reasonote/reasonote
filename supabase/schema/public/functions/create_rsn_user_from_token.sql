---------------------------------------------------------------------------
-- 
-- ⚠️ DO NOT EDIT THIS FILE!
-- THIS FILE WAS AUTOMATICALLY GENERATED FROM THE CONTENTS OF A CLEANLY-MIGRATED DATABASE.
-- 
-- ℹ️ To change the contents of this file, create a new migration under 'supabase/migrations/'
-- that makes the change you would like to see.
-- 
---------------------------------------------------------------------------
-- Function: public.create_rsn_user_from_token

---------------------------------------------------------------------------
-- BEGIN: PG_DUMP RESULT (FUNCTION: public.create_rsn_user_from_token)
------------------------------
CREATE OR REPLACE FUNCTION public.create_rsn_user_from_token()
 RETURNS typed_uuid
 LANGUAGE plv8
AS $function$
    const execute = plv8.execute; 
    let result = execute('INSERT INTO rsn_user (auth_id) VALUES ($1) RETURNING id', [uid]);    

    if (result.length === 0) {
        throw new Error('')
    }
    else {
        return result[0].id;
    }
$function$



------------------------------
-- END: PG_DUMP RESULT (FUNCTION: public.create_rsn_user_from_token)
---------------------------------------------------------------------------
