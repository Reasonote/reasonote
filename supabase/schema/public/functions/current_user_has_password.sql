---------------------------------------------------------------------------
-- 
-- ⚠️ DO NOT EDIT THIS FILE!
-- THIS FILE WAS AUTOMATICALLY GENERATED FROM THE CONTENTS OF A CLEANLY-MIGRATED DATABASE.
-- 
-- ℹ️ To change the contents of this file, create a new migration under 'supabase/migrations/'
-- that makes the change you would like to see.
-- 
---------------------------------------------------------------------------
-- Function: public.current_user_has_password

---------------------------------------------------------------------------
-- BEGIN: PG_DUMP RESULT (FUNCTION: public.current_user_has_password)
------------------------------
CREATE OR REPLACE FUNCTION public.current_user_has_password()
 RETURNS boolean
 LANGUAGE plpgsql
 SECURITY DEFINER
 SET search_path TO 'public'
AS $function$
DECLARE 
  retval BOOL;
BEGIN
  SELECT
    CASE 
      WHEN encrypted_password IS NULL OR encrypted_password = ''
        THEN FALSE 
      ELSE TRUE 
    END AS has_password
  FROM
    auth.users 
  INTO retval
  WHERE
    id = auth.uid();
    
  RETURN retval;
END;
$function$



------------------------------
-- END: PG_DUMP RESULT (FUNCTION: public.current_user_has_password)
---------------------------------------------------------------------------
