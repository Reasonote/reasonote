---------------------------------------------------------------------------
-- 
-- ⚠️ DO NOT EDIT THIS FILE!
-- THIS FILE WAS AUTOMATICALLY GENERATED FROM THE CONTENTS OF A CLEANLY-MIGRATED DATABASE.
-- 
-- ℹ️ To change the contents of this file, create a new migration under 'supabase/migrations/'
-- that makes the change you would like to see.
-- 
---------------------------------------------------------------------------
-- Function: public.convert_to_rsn_user_id

---------------------------------------------------------------------------
-- BEGIN: PG_DUMP RESULT (FUNCTION: public.convert_to_rsn_user_id)
------------------------------
CREATE OR REPLACE FUNCTION public.convert_to_rsn_user_id(p_user_id text)
 RETURNS text
 LANGUAGE plpgsql
AS $function$
begin 
  -- If the user_id already prefixed with rsnusr_ then return it as is
  if p_user_id like 'rsnusr_%' then
    return p_user_id;
  end if;

  -- Otherwise, convert it to a rsn_user_id
  return 'rsnusr_' || p_user_id;
end;
$function$



------------------------------
-- END: PG_DUMP RESULT (FUNCTION: public.convert_to_rsn_user_id)
---------------------------------------------------------------------------
